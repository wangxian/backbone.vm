<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>simple vm-class</title>
<style>
.bg-a { background-color: #ccc; }
.bg-b { background-color: #000; }
#demo { width: 100%; height: 300px; background-color: #ccc; }
</style>
</head>
<body>


<div id="main">
  <h1>simple vm-class</h1>
  <div id="demo" vm="class:myclass"></div>
</div>

<script src="../spm_modules/seajs/2.3.0/dist/sea.js?nowrapper"></script>
<script>
seajs.config({base:'../'});
seajs.use(['jquery/1.10.2/jquery.js','src/backbone.vm'], function($, VM){
  var MainVM = VM.extend({
    el: "#main",

    initialize: function() {
      this.on("change", function(m){
        console.log(m.previous("myclass"));
      });
      // var it = this;
      // setTimeout(function(){
      //   it.set("myclass", "bg-b")
      // }, 3e10);
    },

    defaults: {
      myclass: "bg-a"
    }
  });

  $(document).ready(function(){ new MainVM(); });
});
</script>

</body>
</html>