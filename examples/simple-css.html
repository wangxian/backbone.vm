<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title></title>
<style>
#box { background-color:red;height:200px;width:1%; }
</style>
</head>
<body>


<div id="main">
  <h1>css demo</h1>
  <div id="box" vm="css:cstyle"></div>
</div>

<script src="../spm_modules/seajs/2.3.0/dist/sea.js?nowrapper"></script>
<script>
seajs.config({base:'../'});
seajs.use(['backbone.vm'], function(VM){
  var MainVM = VM.extend({
    defaults: {
      cstyle: {
        width: "1%"
      }
    }
  });

  var vm = new MainVM();

  var w = 1;
  var direction = true;
  setInterval(function(){
    if(direction) {
      w++;
      if(w === 100) {
        direction = false;
        vm.set("cstyle.backgroundColor", "orange");
      }
    } else {
      w--;
      if(w === 0) {
        direction = true;
        vm.set("cstyle.backgroundColor", "red");
      }
    }

    // vm.set("cstyle", {width: w+"%"});
    // 和上面的写法等价
    vm.set("cstyle.width", w+"%");
  }, 50);

});
</script>

</body>
</html>