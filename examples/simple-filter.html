<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title></title>
<style>input{ width: 60%; padding: 5px 8px; }</style>
</head>
<body>


<div id="main">
  <h1>value filter simple demo</h1>

  <h2>请输入姓名：</h2>
  <p>
    <input id="nickname" type="text" name="nickname" vm="val:nickname|escape" />
  </p>
  <p>您的姓名为：<em vm="text:nickname|filter1#true#1|uppercase|escape">--</em></p>
</div>

<script src="../spm_modules/seajs/2.3.0/dist/sea.js?nowrapper"></script>
<script>
seajs.config({base:'../'});
seajs.use(['jquery/1.10.2/jquery.js','src/backbone.vm'], function($, VM){
  // for test
  window.$    = $;
  window.VM   = VM;

  // console.dir(new (Backbone.VM.extend({"id":12})) )
  var MainApp = VM.extend({

    // default vm value
    defaults: {
      nickname: "Nicholas C.Zakas"
    },

    // Bind Dom id, Control of the scope of the VM
    // So, you can define some VM object
    el: "#main",

    filter: {
      filter1: function(){
        console.log("filter的参数列表为：", arguments);
        // return arguments[0];
        return encodeURIComponent(arguments[0]);
      }
    }

  });

  $(document).ready(function(){
    // init new MainApp, for test
    window.mainapp = new MainApp();
  });
});
</script>

</body>
</html>