<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title></title>
<style>input{ width: 60%; padding: 5px 8px; }</style>
<script src="sea-debug.js?nowrap"></script>
<script>
  seajs.config({
    base: "../",
    alias: {
      "backbone":"backbone/1.1.2/backbone.js",
      "jquery":"jquery/1.10.2/jquery.js",
      "underscore":"underscore/1.6.0/underscore.js"
    }
  });
</script>
<!--[if lt IE 9]>
<script src="../static/js/html5shiv.js"></script>
<![endif]-->
</head>
<body>


<div id="main">
  <h1>filter simple demo</h1>

  <h2>请输入姓名：</h2>
  <p>
    <input id="nickname" type="text" name="nickname" vm="val:nickname|escape" />
  </p>
  <p>您的姓名为：<em vm="text:nickname|filter1#true#1|uppercase|escape">--</em></p>
</div>

<script>
seajs.use(['jquery','src/backbone.vm'], function($, VM){
  // for test
  window.$    = $;
  window.VM   = VM;

  // console.dir(new (Backbone.VM.extend({"id":12})) )
  var MainApp = VM.extend({

    // default vm value
    defaults: {
      nickname: "Nicholas C.Zakas"
    },

    // Bind Dom id, Control of the scope of the VM
    // So, you can define some VM object
    el: "#main",

    filter: {
      filter1: function(){
        console.log("filter的参数列表为：", arguments);
        // return arguments[0];
        return encodeURIComponent(arguments[0]);
      }
    }

  });

  $(document).ready(function(){
    // init new MainApp, for test
    window.mainapp = new MainApp();
  });
});
</script>

</body>
</html>