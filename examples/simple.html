<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>simple demo</title>
  <style>
  .demo { padding: 10px; background-color: #efefef; }
  </style>
  <script src="/sea-modules/seajs/2.2.1/dist/sea.js"></script>

  <script>
    seajs.config({
      base: "../",
      alias: {"backbone":"sea-modules/backbone/1.1.2/backbone.js","expect":"sea-modules/expect/0.3.1/index.js","expect.js":"sea-modules/expect.js/0.3.1/index.js","jquery":"sea-modules/jquery/1.10.2/jquery.js","seajs":"sea-modules/seajs/2.2.1/dist/sea.js","underscore":"sea-modules/underscore/1.6.0/underscore.js"}
    });
  </script>
  <!--[if lt IE 9]>
  <script src="../static/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>


<div id="main">
  <h1>simple test</h1>
  <form action="" name="form1">

    <h3><label for="nickname">请输入姓名：</label></h3>
    <p>
      <input id="nickname" type="text" name="nickname"
      vm="val:nickname, on:change=updateMe, on:click=showTips" />
    </p>

    <p>您的姓名为：<em vm="html:nickname"></em></p>
    <h3>选择年龄：</h3>
    <select name="age" id="age" vm="val:age">
      <option value="28">28</option>
      <option value="29">29</option>
      <option value="30">30</option>
      <option value="31">31</option>
      <option value="32">32</option>
      <option value="99">99</option>
    </select>
    <p>您的年龄为：<em vm="text:age"></em></p>
    <p>
      <label><input type="radio" name="age-radio" vm="val:age" value="28" /> 28</label>&nbsp;&nbsp;
      <label><input type="radio" name="age-radio" vm="val:age" value="29" /> 29</label>&nbsp;&nbsp;
      <label><input type="radio" name="age-radio" vm="val:age" value="30" /> 30</label>&nbsp;&nbsp;
      <label><input type="radio" name="age-radio" vm="val:age" value="31" /> 31</label>&nbsp;&nbsp;
      <label><input type="radio" name="age-radio" vm="val:age" value="32" /> 32</label>&nbsp;&nbsp;
      <label><input type="radio" name="age-radio" vm="val:age" value="99" /> 99</label>&nbsp;&nbsp;
    </p>


  </form>
</div>

<script>
define("main", function(require, exports, module){
  var $        = require("jquery");
  var Backbone = require("src/backbone.vm");

  // for test
  window.$        = $;
  window.Backbone = Backbone;

  // console.dir(new (Backbone.VM.extend({"id":12})) )

  // console.log(jQuery);

  var MainApp = Backbone.VM.extend({

    // default vm value
    defaults: {
      "nickname": "木頭",
      "age"     : 99,
      "friends" : ["sa", "sb", "sc"]
    },

    // Bind Dom id, Control of the scope of the VM
    // So, you can define some VM object
    el: "#main",

    // // At initialization we do something
    // initialize: function() {
    //   // do something...
    // },

    // // when vm.name changed
    // updateMe: function() {

    // },

    // // when input[name] click, do this function
    // showTips: function(e) {
    //   // modify name's value
    //   this.vm.set("name", "antony");
    // }
  });

  // init new MainApp, for test
  window.mainapp = new MainApp();
});

seajs.use("main");
</script>

</body>
</html>