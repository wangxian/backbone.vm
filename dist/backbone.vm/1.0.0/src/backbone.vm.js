define("backbone.vm/1.0.0/src/backbone.vm",["jquery/1.10.2/jquery","underscore/1.6.0/underscore","backbone/1.1.2/backbone"],function(t,e,n){var i=t("jquery/1.10.2/jquery"),s=t("underscore/1.6.0/underscore"),a=t("backbone/1.1.2/backbone"),c=["el","defaults"],r=/\s+/g,o=a.VM=function(t){this.cid=s.uniqueId("vm"),t||(t={}),s.extend(this,s.pick(t,c)),this.$el=i(this.el),this.scanAttrs(),this.vm.on("change",this.updateVM,this),this.vm.set(this.defaults),this.initialize.apply(this,arguments)};s.extend(o.prototype,{el:"body",$el:null,attrs:{},defaults:{},updateVM:function(t){var e=this,n=s.pick(this.attrs,s.keys(t.changed));s.each(n,function(t,n){s.each(t,function(t){t(e.vm.get(n))})})},vm:new a.Model,scanAttrs:function(){var t=this,e=this.$el.find("[vm]");e.each(function(e,n){var a=n.getAttribute("vm").replace(r,"").split(",");s.each(a,function(e){var s=e.split(":");"on"===s[0]||"show"===s[0]||"for"===s[0]||(t.attrs[s[1]]||(t.attrs[s[1]]=[]),t.attrs[s[1]].push(function(t,e){return function(n){t[e](n)}}(i(n),s[0])))})})},initialize:function(){}}),o.extend=a.Model.extend,n.exports=a});